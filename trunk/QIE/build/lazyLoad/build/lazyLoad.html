<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>lazyLoad</title>
<style type="text/css">
img{background:url(loading.gif) center no-repeat}
</style>
</head>

<body style="padding-top:50px">
<div style="font-size:14px;font-weight:bold">获取document.documentElement.clientHeight的时间为<span id="time" style="font-size:16px;color:#f00;margin:0 10px;font-weight:bold"></span>毫秒</div>
<noscript><div style="text-align:center; font-size:14px; font-weight:bold; color:#f00">你未开启脚本应用</div></noscript>
<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" alt="" width="160" height="240" lazy_src="http://farm5.static.flickr.com/4054/4486930930_68c6592449_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="240" height="180" lazy_src="http://farm6.static.flickr.com/5055/5480638126_7941556462_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="180" height="240" lazy_src="http://farm6.static.flickr.com/5052/5480036787_7c86ed3ed7_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="160" height="240" lazy_src="http://farm4.static.flickr.com/3244/3102077692_fd0da3a684_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="236" height="240" lazy_src="http://farm6.static.flickr.com/5174/5484215042_731a79e979_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="161" height="240" lazy_src="http://farm6.static.flickr.com/5094/5480639544_360514f94d_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="160" height="240" lazy_src="http://farm4.static.flickr.com/3100/3102080446_427aef09ba_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="240" height="180" lazy_src="http://farm6.static.flickr.com/5214/5480641108_c415bb3c1c_m.jpg" /></a><a href="#"><img src="blank.png" alt="" width="160" height="240" lazy_src="http://farm5.static.flickr.com/4068/4486930918_20c12feca6_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="160" height="240" lazy_src="http://farm4.static.flickr.com/3001/2892478172_011798e9e7_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="198" height="240" lazy_src="http://farm5.static.flickr.com/4023/4486079295_5f514b8417_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="170" height="240" lazy_src="http://farm4.static.flickr.com/3402/3262168955_fe2edbb696_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="240" height="180" lazy_src="http://farm5.static.flickr.com/4037/4486079253_5b1d3d8e8b_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="160" height="240" lazy_src="http://farm4.static.flickr.com/3474/3262117119_dafa954a02_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="160" height="240" lazy_src="http://farm5.static.flickr.com/4068/4486930918_20c12feca6_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="185" height="240" lazy_src="http://farm6.static.flickr.com/5060/5483621185_f047d3ef7e_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="240" height="176" lazy_src="http://farm4.static.flickr.com/3078/3102076418_cf2d80f185_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="161" height="240" lazy_src="http://farm5.static.flickr.com/4067/4486930920_40749958b2_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="167" height="240" lazy_src="http://farm5.static.flickr.com/4016/4486930926_1aa41a61b8_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="159" height="240" lazy_src="http://farm4.static.flickr.com/3284/3091722186_fdd2eab6a9_m.jpg" /></a></p>


<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="160" height="240" lazy_src="http://farm4.static.flickr.com/3117/3101240281_d7aef42f56_m.jpg" /></a></p>

<p>核心提示：继股份制银行全面取消首套房贷优惠利率。最近两天，四大行终于有所动作，银行个贷部门人士表示，如客户接受基准利率则马上放款；如只能接受下浮利率则要排队，何时能放款谁也说不准。消息称四大银行将从2月1日开始执行二套房贷首付提高至60%的</p>
<p><a href="#"><img src="blank.png" width="67" height="100" lazy_src="http://farm4.static.flickr.com/3248/3094214301_832c9c934b_t.jpg" /></a></p>
<input type="button" id="lxj" value="加载中....." style="position: fixed; top:5px;right:5px" />
<input type="button" id="lxj2" value="加载中....." style="position: fixed; top:5px;right:200px" />

<script type="text/javascript" >
;(function(S){
	var d=new Date().getTime()
	var clientHeight=document.documentElement.clientHeight;
	document.getElementById('time').innerHTML=new Date().getTime()-d;
})('QIE');

(function(S){
   if (window[S] === undefined) window[S] = {};
	S = window[S];
	S.getObjPos=function(obj){    
		var x = y = 0;    
		if (obj.getBoundingClientRect)    
		{    
			var box = obj.getBoundingClientRect();
			if(box.left == 0 && box.top == 0)
			{
				return;
			}
			var D = document.documentElement;    
			x = box.left + Math.max(D.scrollLeft, document.body.scrollLeft) - D.clientLeft;    
			y = box.top + Math.max(D.scrollTop, document.body.scrollTop) - D.clientTop;         
		}    
		else   
		{    
			for(; obj != document.body; x += obj.offsetLeft, y += obj.offsetTop, obj = obj.offsetParent );    
		}    
		return {'x':x, 'y':y};    
	};
	function lazyLoad(){
        var self = this;
        // factory or constructor
        if (!(self instanceof lazyLoad)) {
            return new lazyLoad();
        }
		this.config={
			container:window,//容器
			mode:"dynamic"//模式
		};
		var d=new Date().getTime();
		var webkit=/applewebkit/.test(window.navigator.userAgent.toLowerCase()),//webkit内核浏览器
		dd=document.compatMode=="CSS1Compat" && !webkit ? document.documentElement : document.body,
		clientHeight=document.documentElement.clientHeight,
		d2=new Date().getTime(),
		lazyTime,
		lazyTag="img",
		lazylength,
		lazy=[];
		//alert(d2-d);
		var _filterImg=function(){
			var img=document.getElementsByTagName(lazyTag);
			for(var i=0,len=img.length;i<len;i++){
				if(img[i].getAttribute("lazy_src")){
					var lobj={};
					lobj.o=img[i];
					lobj.pos=S.getObjPos(img[i]).y;
					lazy.push(lobj);
				}
			}
			lazylength=lazy.length;
	   };
	   var loadLazy=function(){
		    if(lazylength==0) {clearInterval(lazyTime);document.getElementById('lxj').value='延迟加载完毕';return;};
		    document.getElementById('lxj').value='还有'+lazylength+'张图未加载';
			for(var i=0;i<lazylength;i++){
				if((lazy[i].pos-dd.scrollTop)<clientHeight && lazy[i].o.getAttribute("lazy_src")){
					lazy[i].o.src=lazy[i].o.getAttribute("lazy_src");
					lazy[i].o.setAttribute("lazy_src",'');
					lazy[i].o.removeAttribute("lazy_src");
					lazy.splice(i,1);
					lazylength--;
				}
			};
	   };
	   _filterImg();
	   document.getElementById('lxj2').value="总共有"+lazy.length+"张图片需要延迟加载";
	   lazyTime=setInterval(loadLazy,100)
	};
	
	S.lazyLoad=lazyLoad;
	
})('QIE');

new QIE.lazyLoad();

/*var lxj=["a","c","e","d"]
lxj.splice(0,1);
alert(lxj.join('-'))*/

</script>
<!--<script src="../docs/lazyLoad.js" type="text/javascript" /></script>-->
</body>
</html>
