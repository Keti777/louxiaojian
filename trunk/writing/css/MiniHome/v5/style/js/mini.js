function $(a){return document.getElementById(a)}var MiniTab={};MiniTab.Cookie={set:function(b,d,a,e,c){if(typeof a=="undefined"){a=new Date(new Date().getTime()+24*3600*100)}document.cookie=b+"="+escape(d)+((a)?"; expires="+a.toGMTString():"")+((e)?"; path="+e:"; path=/")+((c)?"; domain="+c:"")},get:function(b){var a=document.cookie.match(new RegExp("(^| )"+b+"=([^;]*)(;|$)"));if(a!=null){return unescape(a[2])}return null},clear:function(a,c,b){if(this.get(a)){document.cookie=a+"="+((c)?"; path="+c:"; path=/")+((b)?"; domain="+b:"")+";expires=Fri, 02-Jan-1970 00:00:00 GMT"}}};Array.prototype.find=function(a){for(var b=0;b<this.length;b++){if(this[b]==a){return b}}return -1};Array.prototype.remove=function(a){if(a<0){return this}else{return this.slice(0,a).concat(this.slice(a+1,this.length))}};function ints(){var k=cots.length,j=0,c=1,b=[0,1,2,3,4,5,6,7,8,9];var l=$("iNav").getElementsByTagName("a");var d=MiniTab.Cookie;function g(){var w=d.get("MiniLocl");if(w!=null){var r=w.split("-"),q=b.sort(),x=[0],u=0,s;if(r.length!=(m-1)){return}q=q.remove(0);for(var t=0;t<(m-1);t++){s=parseInt(r[t]);u=q.find(s);if(u==-1){return}q=q.remove(u);x.push(s)}b=x.concat(q)}}function a(){var q=[];for(var p=0;p<l.length;++p){if(l[p].name!=0){q.push(l[p].name)}if(q.length>=4){break}}d.set("MiniLocl",q.join("-"),new Date(new Date().getTime()+24*3600*1000*365))}function h(){if(stop==4){var q=d.get("MiniLocl");if(q!=null){doit(0);n=0;l[0].className="cur"}else{n=5;l[4].className="cur";doit(4)}}else{doit(0);n=0;l[0].className="cur"}for(var p=0;p<m;++p){var r=b[j+p];l[p].innerHTML="<span style='cursor:hand'>"+cots[r][0]+"</span>";l[p].target="_blank";l[p].name=r;l[p].onfocus=function(){this.blur()};l[p].onmouseover=function(){doit(this.name);clearAuto();if(this.name==0){$("tishi").style.display="none";return false}else{$("tishi").style.display="block";$("tishi").style.left=this.offsetLeft+15+"px"}};l[p].onclick=function(){return false};l[p].onmouseout=function(){$("tishi").style.display="none";return false}}}function o(i,r){var q=b.find(i.name),p=b.find(r.name);b[q]=r.name;b[p]=i.name}var e={dragFlag:false,cons:[],addCons:function(i){this.cons.push(i)},enableDrag:function(u){var p=this,t=u.style.cursor;var r=i($("iNav")).y;u.onmousedown=function(B){if(!document.all){B.preventDefault()}var w=i(u);var z=q(B);var x=u;var A=s(B);p.dragFlag=true;$("shadow").innerHTML=u.outerHTML;$("shadow").children[0].name=u.name;document.onmouseup=function(F){u.style.cursor=t;document.onmousemove=null;document.onmouseup=null;var D=q(F);if(u.name!=noDrag){if(x.innerHTML==""){v(x,$("shadow").children[0]);a()}}var G=$("shadow");G.style.display="none";if(p.dragFlag&&u&&u==x){var D=s(F);var H=i(u);var C=u.offsetWidth;var E=u.offsetHeight;if((D.x>H.x)&&(D.y>=H.y)&&(D.x<H.x+C)&&(D.y<=H.y+E)){}}p.dragFlag=false};document.onmousemove=function(I){if(u&&p.dragFlag){if(u.name!=noDrag){var J=q(I),M=i($("iNav")),K=J.x-z.x+w.x;if(J.x<A.x+5&&J.x>A.x-5){return}var D=$("shadow");D.style.display="block";D.style.position="absolute";if(K<M.x){K=M.x}if(K>M.x+$("iNav").offsetWidth-$("shadow").offsetWidth){K=M.x+$("iNav").offsetWidth-$("shadow").offsetWidth}D.style.left=K+"px";D.style.top=r-1+"px"}else{u.style.cursor="not-allowed";return}for(var F=0;F<p.cons.length;++F){var E=p.cons[F];var C=q(I);var G=i(E);var L=E.offsetWidth;var H=E.offsetHeight;if((C.x>G.x)&&(C.y>=G.y)&&(C.x<G.x+L)&&(C.y<=G.y+H)){if(E.name==noDrag){u.style.cursor="not-allowed";break}if(x!=E){o($("shadow").children[0],E);v(x,E);x=E}E.className="mb";E.innerHTML="";E.id="";break}else{u.style.cursor=(u.name==noDrag?"not-allowed":"move")}}}return false}};function v(x,w){x.innerHTML=w.innerHTML;x.className=w.className;x.name=w.name;x.id=w.id;x.href=w.href}function i(B){var w=y=0;if(B.getBoundingClientRect){var z=B.getBoundingClientRect();var A=document.documentElement;w=z.left+Math.max(A.scrollLeft,document.body.scrollLeft)-A.clientLeft;y=z.top+Math.max(A.scrollTop,document.body.scrollTop)-A.clientTop}else{for(;B!=document.body;w+=B.offsetLeft,y+=B.offsetTop,B=B.offsetParent){}}return{x:w,y:y}}function q(x){x=x||window.event;var w=document.documentElement;if(x.pageX){return{x:x.pageX,y:x.pageY}}return{x:x.clientX+w.scrollLeft-w.clientLeft,y:r}}function s(x){x=x||window.event;var w=document.documentElement;if(x.pageX){return{x:x.pageX,y:x.pageY}}return{x:x.clientX+w.scrollLeft-w.clientLeft,y:x.clientY+w.scrollTop-w.clientTop}}}};g();h();for(var f=0;f<m;++f){e.enableDrag(l[f]);e.addCons(l[f])}setAuto()}var PreviousDiv="";function doit(a){if(typeof(IC)=="object"&&typeof(IC.rpt)=="function"){IC.rpt(a)}for(var b=0;b<m;b++){if(a==$("iNav").getElementsByTagName("a")[b].name){mini_tab_show(a);window.setTimeout(function(){if(PreviousDiv){PreviousDiv.style.display="none"}$(content[a]).style.display="block";if(a==0){$("vote").style.display="block";$("adBanner").style.display="block";$("gameRank").style.display="none"}else{if(a==1){$("vote").style.display="block";$("adBanner").style.display="block";$("gameRank").style.display="none"}else{if(a==2){$("vote").style.display="none";$("adBanner").style.display="block";$("gameRank").style.display="none"}else{if(a==3||a==4){$("vote").style.display="none";$("adBanner").style.display="none";$("gameRank").style.display="block"}}}}PreviousDiv=$(content[a])},2);$("iNav").getElementsByTagName("a")[b].className="cur"}else{$("iNav").getElementsByTagName("a")[b].className=""}}var d=MiniTab.Cookie;var c=d.get("MiniLocl");if(c!=null){stop=0;if(n==stop&&mark==1){clearAuto()}}else{if(n==stop&&mark==1){clearAuto()}}}var n=0;var mark=null;function clearAuto(){clearInterval(autoStart)}function setAuto(){autoStart=setInterval("auto(n)",5000)}function auto(){n++;if(n>m-1){n=0;mark+=1}doit($("iNav").getElementsByTagName("a")[n].name)}(function(){var a={getElementsByClassName:function(h,b,f){if(h.getElementsByClassName){return h.getElementsByClassName(b)}else{var g=[],d=new RegExp("(^|\\s)"+b+"(\\s|$)"),j=(h||document).getElementsByTagName(f||"*");for(var c=0;c<j.length;c++){if(d.test(j[c].className)){g.push(j[c])}}return g}},set:{cn:"rank",cTag:"dt",index:[1,1,1,1],cName:["selected"],cType:"onmouseover"},run:function(){var b=this,d=this.getElementsByClassName(document,this.set.cn,"div");if(d.length==0){return false}for(var c=0;c<d.length;c++){(function(){var i={},h=d[c].getElementsByTagName(b.set.cTag),k="",g="",e="";k=b.set.index[c]?(b.set.index[c]-1):0;g=b.set.cName.join(" ")+(" sr"+(k+1));if(h[k]&&h[k].parentNode.className.indexOf(g)==-1){h[k].parentNode.className+=" "+g}i.o=h[k];i.cn=g;for(var f=0;f<h.length;f++){h[f].curNub=f;h[f][b.set.cType]=function(){if(e){clearTimeout(e)}if(i.o==this){return false}var j=this;e=setTimeout(function(){var l=[];l.push("sr"+(j.curNub+1));g=b.set.cName.concat(l).join(" ");if(i.o&&i.o!=j){i.o.parentNode.className=i.o.parentNode.className.replace(i.cn,"")}if(j.parentNode.className.indexOf(g)==-1){j.parentNode.className+=" "+g}i.o=j;i.cn=g},0)};h[f].onmouseout=function(){clearTimeout(e)}}})()}}};a.run()})();function Rotation(e,f,d){if(!this.G(e)){return false}if(!this.G(e).getElementsByTagName(f)){return false}if(this.G(e).getElementsByTagName(f).length<=1){return false}this.set(d);this.oMain=this.G(e);this.aMainTag=this.oMain.getElementsByTagName(f);this.eventType=["click","mouseover"];if(this.s.nId&&this.s.nTag){this.aNavTag=this.G(this.s.nId).getElementsByTagName(this.s.nTag)}this.aMtag=[];this.run()}Rotation.prototype={B:function(f,e){var d=Array.prototype.slice.call(arguments).slice(2);return function(){return e.apply(f,d)}},G:function(b){return document.getElementById(b)},E:function(f,e){for(var d in e){f[d]=e[d]}},pre:function(b){if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}},aE:function(f,e,d){if(f.addEventListener){f.addEventListener(e,d,false)}else{if(f.attachEvent){f.attachEvent("on"+e,d)}else{f["on"+e]=d}}},set:function(b){this.s={evt:0,index:0,cur:"cur",nId:false,nTag:false,callBack:function(){}};this.E(this.s,b||{})},action:function(b){this.s.callBack();this.TabLi(b);this.TabChange(b)},TabLi:function(b){this.lLi.className=this.lLi.className.replace(this.s.cur,"");if(this.aNtag[b].className.indexOf(this.s.cur)==-1){this.aNtag[b].className+=" "+this.s.cur}this.lLi=this.aNtag[b]},TabChange:function(b){if(this.lDiv&&this.lDiv!=this.aMtag[b]){this.lDiv.style.display="none"}this.aMtag[b].style.display="block";this.lDiv=this.aMtag[b]},aNtagAct:function(b){if(this.lLi==b){return false}if(this.intTab){clearTimeout(this.intTab)}this.intTab=setTimeout(this.B(this,function(){this.s.index=b.cNub;this.action(b.cNub)}),this.s.intTabTime);return false},run:function(){for(var h=0;h<this.aMainTag.length;h++){if(this.aMainTag[h].parentNode==this.oMain){this.aMtag.push(this.aMainTag[h])}}this.aNtag=[];for(var e=0;e<this.aNavTag.length;e++){if(!this.aNavTag[e].getAttribute("lang")){this.aNtag.push(this.aNavTag[e])}}if(this.aNtag[this.s.index].className.indexOf(this.s.cur)==-1){this.aNtag[this.s.index].className+=" "+this.s.cur}this.lLi=this.aNtag[this.s.index];this.lDiv=this.aMtag[this.s.index];for(var g=0;g<this.aNtag.length;g++){this.aNtag[g].cNub=g;var f=this.aNtag[g].getElementsByTagName("a")[0];if(f){this.aE(f,"focus",this.B(this,function(a){a.blur()},f));if(this.s.evt==0){this.aE(f,"click",this.pre)}}if(this.aNtag[g].tagName.toLocaleLowerCase()=="a"){this.aE(this.aNtag[g],"focus",this.B(this,function(a){a.blur()},this.aNtag[g]));if(this.s.evt==0){this.aE(this.aNtag[g],"click",this.pre)}}this.aE(this.aNtag[g],this.eventType[this.s.evt],this.B(this,function(a){this.aNtagAct(a)},this.aNtag[g]))}}};var nList=new Rotation("favRankBody","div",{nId:"ysMenu",nTag:"li",evt:1});var nList2=new Rotation("gameListBody","div",{nId:"gameMenu",nTag:"li",evt:1});(function(){if(!$("s")){return false}var a=$("s");a.defaultValue="\u7535\u5f71/\u7535\u89c6\u5267";a.onfocus=function(){if(this.value==this.defaultValue){this.value=""}};a.onblur=function(){if(this.value==""){this.value=this.defaultValue}}})();
