<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>我的时间</title>
<style type="text/css">
*{margin:0; padding:0}
ul,li{list-style:none}
em{font-style:normal;}
em img{vertical-align:middle}
.countdown li{margin:15px 100px;color:#333;text-align:center;font:18px/32px "微软雅黑";border:1px solid #ccc;}
.countdown li span{color:#ae022b;font:bold 14px Tahoma;margin:0px 5px}
</style>
</head>

<body>
<div class="countdown">
  <ul>
    <li>把握自己的第<em id="countdown"></em></li>
    <li>没有老婆在身边的第<em id="wife"></em></li>
    <li style="display:none">小外甥女出生<em id="waishengnv"></em></li>
    <li style="display:none">距离2010年上海世博会还有<em id="shibo"></em></li>
  </ul>
</div>

<div style="display:none">2009-12-20穿秋裤，当日温度-3度到5度</div>
<div id="timeList" style="display:none">
 <h3>2009年06月</h3>
 <ul>
  <li>06/23/2009 23:23:00</li>
  <li>06/28/2009 22:32:50</li>
 </ul>
 <h3>2009年07月</h3>
 <ul>
  <li>07/02/2009 7:00:02</li>
  <li>07/04/2009 00:28:02</li>
  <li>07/04/2009 11:06:02</li>
  <li>07/05/2009 11:20:02</li>
  <li>07/09/2009 06:40:02</li>
  <li>07/11/2009 11:11:11</li>
  <li>07/17/2009 21:26:11</li>
 </ul>
  <h3>2009年11月</h3>
 <ul>
  <li>11/07/2009 09:00:02</li>
  <li>11/14/2009 16:36:11</li>
  <li>11/15/2009 13:51:11</li>
  <li>11/20/2009 22:15:11</li>
  <li>11/21/2009 16:00:00</li>
  <li>11/28/2009 13:35:00</li>
  <li>11/29/2009 15:00:00</li>
 </ul>
<h3>2009年12月</h3>
 <ul>
  <li>12/05/2009 16:15:00</li>
  <li>12/09/2009 07:00:00</li>
  <li>12/12/2009 17:23:00</li>
  <li>12/19/2009 13:28:00</li>
  <li>12/20/2009 13:49:18</li>
  <li>12/26/2009 09:20:33</li>
 </ul>
 <h3>2010年01月</h3>
 <ul>
  <li>01/03/2010 06:50:00</li>
  <li>01/03/2010 14:45:18</li>
  <li>2010/01/06 07:05:18</li>
  <li>2010/01/10 07:55:24</li>
  <li>2010/01/14 22:55:56</li>
  <li>2010/01/16 16:12:01</li>
  <li>2010/01/19 23:15:31</li>
  <li>2010/01/21 19:15:51</li>
  <li>2010/01/24 08:00:57</li>
  <li>2010/01/25 22:35:15</li>
  <li>2010/01/30 23:22:15</li>
 </ul>
 <h3>2010年02月</h3>
 <ul>
  <li>02/06/2010 07:32:00</li>
  <li>02/22/2010 17:48:00</li>
  <li>02/23/2010 23:30:18</li>
  <li>02/25/2010 22:45:18</li>
 </ul>
 <h3>2010年03月</h3>
 <ul>
  <li>03/03/2010 22:05:05</li>
  <li>03/07/2010 14:55:05</li>
  <li>03/11/2010 21:44:33</li>
  <li>03/14/2010 08:50:33</li>
  <li>03/20/2010 07:13:20</li>
  <li>03/24/2010 22:16:20</li>
  <li>03/27/2010 08:05:20</li>
 </ul>
 <h3>2010年04月</h3>
 <ul>
  <li>04/01/2010 06:29:33</li>
  <li>04/02/2010 22:29:33</li>
  <li>04/05/2010 00:15:33</li>
  <li>04/09/2010 22:45:33</li>
  <li>04/14/2010 06:00:33</li>
  <li>04/17/2010 13:50:33</li>
 </ul>
</div>
<script type="text/javascript">
function Countdown(id,date){
     this.cDay= new Date(date);
     this.id=document.getElementById(id);
     this.cw=function(n){(n<=9)&&(n="0"+n);return n};
     this.zh=function(n){
	     var aDays=new String(parseInt(n)).split("");
	     n='';
	     for(var i=0;i<aDays.length;i++){
		 n+='<img src="http://127.0.0.1/asset/app/notes/img/nub1/'+aDays[i]+'.png" alt="" />';
	     };
	     return n;
         };
     var time=[];
     var b=[86400000,3600000,60000,1000];
     var c=['天','小时','分钟','秒'];
     this.count=function(){
	  this.now = new Date();
	  this.ile = (this.cDay.getTime() > this.now.getTime()) ? (this.cDay.getTime()- this.now.getTime()) : (this.now.getTime() - this.cDay.getTime());
	  for(var i=0;i<4;i++){
	    time[i]=Math.floor(this.ile/b[i]);
	    this.ile=this.ile-time[i]*b[i];
	    (i!=0) && (time[i]='<span>'+this.cw(time[i])+'</span>'+c[i]);
	  }
	  time[0]=this.zh(time[0]);
	  time[0]+=c[0];
	  this.id.innerHTML=time.join('&nbsp;');
	  var _this=this;
	  setTimeout(function(){_this.count()},1000)
        }
     this.count();
}
var Time={
	 show:function(id,date){return new Countdown(id,date);}
	}
var li=document.getElementById('timeList').getElementsByTagName('li');
var lastTime=li[li.length-1].innerHTML;
//new Countdown("countdown",lastTime);
//Time.show("wife","10/21/2009 08:50:00")
//new Countdown("wife","10/21/2009 08:50:00");
//new Countdown("waishengnv","06/18/2009 02:40:35");
//new Countdown("shibo","05/01/2010 00:00:00");
</script>
</body>
</html>
