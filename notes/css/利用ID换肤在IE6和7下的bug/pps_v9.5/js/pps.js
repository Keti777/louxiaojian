var _ppsflag=false;function _ppsinit(b,a){if(b!=null){if(typeof(b.onstatustext)=="function"){b._getobj().attachEvent("StatusText",b.onstatustext)}}}function _ppsdestory(c,a){try{if(c!=null){c.stop();try{document.getElementById("__ppswin").innerHTML=""}catch(b){}c=null}}catch(b){}}PPStream.prototype.pps_width="400px";PPStream.prototype.pps_height="400px";PPStream.prototype.pps_autostart="0";PPStream.prototype.pps_showcontrol="1";PPStream.prototype.pps_showposition="1";PPStream.prototype.pps_objid="";PPStream.prototype.__volume=100;PPStream.prototype.__mute=0;PPStream.prototype.__src="";PPStream.prototype.__ppsstr="";PPStream.prototype.__logo="";PPStream.prototype.__client="";PPStream.prototype.__isshow=false;PPStream.prototype.__isinstall=false;PPStream.prototype.__hascreate=false;PPStream.prototype.callback_installpps=null;PPStream.prototype.onpause=null;PPStream.prototype.onplay=null;PPStream.prototype.onstop=null;PPStream.prototype.onstatustext=null;function PPStream(b){var a=this;this.reset=function(c){if(c!=""&&_ppsflag==false){this.pps_objid=c;_ppsflag=c}else{throw"This is a Single Pattern Class"}};this.reset(b)}PPStream.prototype._cexist=function(){if(_ppsflag!=this.pps_objid){throw"No Class"}};PPStream.prototype._isshow=function(){return this.__isshow};PPStream.prototype._isinstall=function(){if(!this.__isinstall){if(typeof(this._getobj().src)!="string"){document.getElementById("__ppswin").innerHTML="";if(typeof(this.callback_installpps)=="function"){this.callback_installpps()}}else{this.__isinstall=true}}return this.__isinstall};PPStream.prototype._hascreate=function(){if(!this.__hascreate){if(this._gethwnd()!=""){this.__hascreate=true}}return this.__hascreate};PPStream.prototype._getobj=function(){return document.getElementById(this.pps_objid)};PPStream.prototype._formatppsstr=function(){this.__ppsstr="<div id='__ppswin'>";this.__ppsstr+='<OBJECT CLASSID="clsid:5EC7C511-CD0F-42E6-830C-1BD9882F3458" ';this.__ppsstr+='CODEBASE=http://download.ppstream.com/bin/powerplayer.cab standby="\u52a0\u8f7d\u64ad\u653e\u5668\u4e2d..." ';this.__ppsstr+="WIDTH='"+this.pps_width+"' HEIGHT='"+this.pps_height+"' ID='"+this.pps_objid+"'>";this.__ppsstr+='<param name="ShowControl" value=\''+this.pps_showcontrol+"'>";this.__ppsstr+='<param name="showposition" value=\''+this.pps_showposition+"'>";this.__ppsstr+='<param name="src" value=\''+this.__src+"'>";this.__ppsstr+='<param name="mute" value=\''+this.__mute+"'>";this.__ppsstr+='<param name="volume" value=\''+this.__volume+"'>";this.__ppsstr+='<param name="autostart" value=\''+this.pps_autostart+"'>";this.__ppsstr+='<param name="logo" value=\''+this.__logo+"'>";this.__ppsstr+='<param name="client" value=\''+this.__client+"'>";this.__ppsstr+='<param name="wmode" value="transparent" />';this.__ppsstr+="</OBJECT></div>"};PPStream.prototype.su1=function(){if(this.__isshow&&this.__isinstall){return true}else{return false}};PPStream.prototype.su2=function(){if(this.__isshow&&this.__isinstall&&this._hascreate()){return true}else{return false}};PPStream.prototype._play=function(){return this._getobj().play()};PPStream.prototype._stop=function(){return this._getobj().stop()};PPStream.prototype._pause=function(){return this._getobj().pause()};PPStream.prototype._src=function(){this._getobj().src=this.__src};PPStream.prototype._mute=function(){this._getobj().Mute=this.__mute};PPStream.prototype._volume=function(){this._getobj().Volume=this.__volume};PPStream.prototype._logo=function(){this._getobj().logo=this.__logo};PPStream.prototype._client=function(){this._getobj().client=this.__client};PPStream.prototype._setfullscreen=function(){this._getobj().SetFullScreen(true)};PPStream.prototype._gethwnd=function(){return this._getobj().getHWND()};PPStream.prototype.show=function(){try{if(!this.__isshow){this._cexist();this._formatppsstr();document.write(this.__ppsstr);this.__isshow=true;this._isinstall()}}catch(a){}};PPStream.prototype.setsrc=function(b){try{this.__src=b;if(this.su1()){this._src()}}catch(a){}};PPStream.prototype.setvolume=function(a){try{if(a>=0&&a<=100){this.__volume=a;if(this.su1()){s=this._volume(a)}return s}}catch(b){}};PPStream.prototype.setlogo=function(a){try{this.__logo=a;if(this.su1()){this._logo()}}catch(b){}};PPStream.prototype.setclient=function(b){try{this.__client=b;if(this.su1()){this._client()}}catch(a){}};PPStream.prototype.mute=function(a){try{if(a=="1"||a=="0"){this.__mute=a}else{this.__mute=(this.__mute+1)%2}if(this.su1()){s=this._mute()}}catch(b){}};PPStream.prototype.setfullscreen=function(){try{if(this.su2()){this._setfullscreen()}}catch(a){}};PPStream.prototype.play=function(b){try{if(b!=null){this.setsrc(b)}else{}if(this.__src!=""){if(this.su2()){s=this._play();if(typeof(this.onplay)=="function"){this.onplay()}}}}catch(a){}};PPStream.prototype.stop=function(){try{if(this.su2()){s=this._stop();if(typeof(this.onstop)=="function"){this.onstop()}}}catch(a){}};PPStream.prototype.pause=function(){try{if(this.su2()){s=this._pause();if(typeof(this.onpause)=="function"){this.onpause()}}return s}catch(a){}};PPStream.prototype.getsrc=function(){try{return this.__src}catch(a){}};PPStream.prototype.getvolume=function(){try{return this.__volume}catch(a){}};PPStream.prototype.getlogo=function(){try{return this.__logo}catch(a){}};PPStream.prototype.getclient=function(){try{return this.__client}catch(a){}};PPStream.prototype.ismute=function(a){try{return this.__mute}catch(b){}};ppspowerplayer=new PPStream("powerplayer");window.attachEvent("onload",new Function("_ppsinit(ppspowerplayer)"));window.attachEvent("onunload",new Function("_ppsdestory(ppspowerplayer)"));
