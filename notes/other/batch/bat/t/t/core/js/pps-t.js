(function(b){if(window[b]===undefined){window[b]={}}b=window[b];b.$=function(a){return"string"==typeof a?document.getElementById(a):a};b.domReady=!+"\v1"?function(a){(function(){try{document.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}a()})()}:function(a){document.addEventListener("DOMContentLoaded",a,false)};b.Bind=function(e,a){var f=Array.prototype.slice.call(arguments).slice(2);return function(){return a.apply(e,f)}};b.getECN=function(n,l,a){var o=[],e=new RegExp("(^|\\s)"+l+"(\\s|$)"),m=(n||document).getElementsByTagName(a||"*");for(var i=0,p=m.length;i<p;i++){if(e.test(m[i].className)){o.push(m[i])}}return o};b.cssValue=function(f,h){var g;function a(c){return c.replace(/-(\w)/g,function(e,d){return d.toUpperCase()})}if(!+"\v1"){if(h.indexOf("-")!=-1){h=a(h)}g=f.currentStyle[h]}else{g=document.defaultView.getComputedStyle(f,null).getPropertyValue(h)}return g};b.cleanWhitespace=function(a){for(var f=0;f<a.childNodes.length;f++){var e=a.childNodes[f];if(e.nodeType==3&&!/\S/.test(e.nodeValue)){e.parentNode.removeChild(e)}}};b.nextSibling=function(a){b.cleanWhitespace(a.parentNode);return a.nextSibling};b.stopPropagation=function(a){var a=a||window.event;if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};b.preventDefault=function(a){var a=a||window.event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};b.getObjPos=function(f){var a=y=0;if(f.getBoundingClientRect){var h=f.getBoundingClientRect();if(h.left==0&&h.top==0){return}var g=document.documentElement;a=h.left+Math.max(g.scrollLeft,document.body.scrollLeft)-g.clientLeft;y=h.top+Math.max(g.scrollTop,document.body.scrollTop)-g.clientTop}else{for(;f!=document.body;a+=f.offsetLeft,y+=f.offsetTop,f=f.offsetParent){}}return{x:a,y:y}};b.addEvent=function(f,a,e){if(!(f=this.$(f))){return false}if(f.addEventListener){f.addEventListener(a,e,false);return true}else{if(f.attachEvent){f["e"+a+e]=e;f[a+e]=function(){f["e"+a+e](window.event)};f.attachEvent("on"+a,f[a+e]);return true}}return false};b.removeEvent=function(f,a,e){if(!(f=this.$(f))){return false}if(f.removeEventListener){f.removeEventListener(a,e,false);return true}else{if(f.detachEvent){f.detachEvent("on"+a,f[a+e]);f[a+e]=null;return true}}return false};b.setCookie=function(i,h,g){if(g){var j=new Date();j.setTime(j.getTime()+(g*24*60*60*1000));var a="; expires="+j.toGMTString()}else{a=""}document.cookie=i+"="+h+a+"; path=/"};b.getCookie=function(j){var h=j+"=";var a=document.cookie.split(";");for(var i=0;i<a.length;i++){var c=a[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(h)==0){return c.substring(h.length,c.length)}}return null};b.removeClass=function(a,c){if(!a||!a.className){return false}if(a.className.indexOf(c)!=-1){a.className=a.className.replace(c,"")}};b.addClass=function(f,c){if(!f){return false}var a=f.className;if(!a){f.className=value}else{if(f.className.indexOf(c)==-1){f.className+=" "+c}}}})("PPS");function Rotation(a){this.set(a);this.aNtag=this.s.nTag;this.aMtag=this.s.mTag;this.aText=this.s.text;this.dis=Math.abs(this.s.slider.dis);this.sbj=this.s.slider.obj;this.dir=this.s.slider.dir||this.s.dir;this.Tween=this.s.slider.Tween||this.s.Tween;this.de=this.s.index;this.start=this.B(this,this.s.start);this.callBack=this.B(this,this.s.callBack);this.key=true;this.eType=["click","mouseover"];this.run()}Rotation.prototype={B:function(b,c){var a=Array.prototype.slice.call(arguments).slice(2);return function(){return c.apply(b,a)}},G:function(a){return document.getElementById(a)},E:function(c,b){for(var a in b){c[a]=b[a]}},pre:function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}},aE:function(a,b,c){if(a.addEventListener){a.addEventListener(b,c,false)}else{if(a.attachEvent){a.attachEvent("on"+b,c)}else{a["on"+b]=c}}},set:function(a){this.s={evt:0,index:0,auto:[0,2000],cur:"cur",intTabTime:50,interval:50,nTag:[],mTag:[],text:[],slider:{obj:null,dis:0},dir:"top",Tween:function(f,e,b,g){return -b*((f=f/g-1)*f*f*f-1)+e},start:function(){},callBack:function(){}};this.E(this.s,a||{})},action:function(a){this.start();if(!this.key){return false}this.TabLi(a);this.TabText(a);this.dis?this.slider(a):this.TabChange(a);this.callBack()},autoplay:function(a){if(a){this.de=(this.de<this.aMtag.length-1)?this.de+1:0}else{this.de=(this.de!=0)?this.de-1:this.aMtag.length-1}this.action(this.de)},autoFun:function(){this.clearAuto();this.intAuto=setInterval(this.B(this,this.autoplay,1),this.s.auto[1])},clearAuto:function(){if(this.intAuto){clearInterval(this.intAuto)}},TabLi:function(f){if(this.aNtag!=""){var b=this.aNtag[f],e="className",d=this.s.cur;if(this.lLi){this.lLi[e]=this.lLi[e].replace(d,"");this.lLi.key=0}if(b[e].indexOf(d)==-1){b[e]+=" "+d;b.key=1}this.lLi=b}},TabText:function(a){if(this.aText!=""){this.lText&&(this.lText.style.display="none");this.aText[a].style.display="block";this.lText=this.aText[a]}},TabChange:function(b){if(this.aMtag!=""){var a=this.aMtag[b];if(this.lDiv&&this.lDiv!=a){this.lDiv.style.display="none"}a.style.display="block";this.lDiv=a}},slider:function(k){var f=this.sbj,i=this.dir,e=this.dis;if(e&&!this.sliderInit){f.style.position="absolute";f.style[i]=-this.de*this.dis+"px";this.sliderInit=true}var j=0,g=parseInt(this.sbj.style[i]),h=-k*e-g,a=this.s.interval;this.Move=function(){if(!h){return false}if(this.moveTime){clearTimeout(this.moveTime)}f.style[i]=Math.round(this.Tween(j,g,h,a))+"px";if(j<a){j++;this.moveTime=setTimeout(this.B(this,this.Move),10)}};this.Move()},clearintTab:function(){if(this.intTab){clearTimeout(this.intTab)}},aNtagAct:function(a){if(this.lLi==a){return false}this.clearintTab();this.clearAuto();this.intTab=setTimeout(this.B(this,function(){this.de=a.cNub;this.action(a.cNub)}),this.s.intTabTime);return this},run:function(){if(this.aNtag!=""){for(var a=0,c=this.aNtag.length;a<c;a++){var g=this.aNtag[a],d=g.getElementsByTagName("a")[0]||g.tagName.toLocaleLowerCase()=="a"&&g;if(!g.cNub){g.cNub=a}if(d){this.aE(d,"focus",this.B(this,function(h){h.blur()},d));if(this.s.evt==0){this.aE(d,"click",this.pre)}}this.aE(g,this.eType[this.s.evt],this.B(this,function(h){this.aNtagAct(h)},g));if(this.s.auto[0]==1){this.aE(g,"mouseover",this.B(this,function(h){if(!h.key){return}this.clearAuto()},g));this.aE(g,"mouseout",this.B(this,function(h){if(!h.key){return}this.autoFun();this.clearintTab()},g))}else{this.aE(g,"mouseout",this.B(this,this.clearintTab))}}}this.action(this.de);if(this.s.auto[0]==1){this.autoFun();var e=this.aMtag;if(e!=""){for(var b=0,f=e.length;b<f;b++){this.aE(e[b],"mouseover",this.B(this,this.clearAuto));this.aE(e[b],"mouseout",this.B(this,this.autoFun))}}}}};function Dropsub(l){this.h=l.handle;this.m=l.submore;this.sn=l.className||"";this.hTime=l.hTime||200;this.oTime=l.oTime||200;this.hoverBack=l.hoverBack||function(){};this.outBack=l.outBack||function(){};this.curObiect=null;if(!this.h||!this.m||this.h.length==0||this.m.length==0||this.h.length!=this.m.length){return false}var k="className";this.hover=function(a){if(a.ht){clearTimeout(a.ht)}a.ht=setTimeout(PPS.Bind(this,function(){this.curObiect=a;if(a[k].indexOf(this.sn)==-1){a[k]+=" "+this.sn}this.m[a.n].style.visibility="visible";this.hoverBack()}),this.hTime)};this.out=function(a,b){if(a.ht){clearTimeout(a.ht)}if(a.ot){clearTimeout(a.ot)}a.ot=setTimeout(PPS.Bind(this,function(){if(a[k].indexOf(this.sn)!=-1){a[k]=a[k].replace(" "+this.sn,"")}this.m[a.n].style.visibility="hidden";this.outBack()}),this.oTime)};for(var h=0,i=this.h.length;h<i;h++){var c=this.h[h],j=this.m[h];c.n=h;PPS.addEvent(c,"mouseover",PPS.Bind(this,this.hover,c));PPS.addEvent(c,"mouseout",PPS.Bind(this,this.out,c));PPS.addEvent(j,"mouseover",PPS.Bind(this,function(a){if(a.ot){clearTimeout(a.ot)}},c));PPS.addEvent(j,"mouseout",PPS.Bind(this,this.out,c))}}function SliderJi(b){this.handle=b.handle;this.handleBx=b.handleBx;if(!this.handle||!this.handleBx){return false}this.initial=parseInt(b.initial)||0;this.interval=b.interval||30;this.delay=b.delay||50;this.Tween=b.Tween||function(d,h,a,c){return a*(d/=c)*d+h};this.evt=b.evt||"click";this.dis=b.dis||"height";this.dis=this.dis.toLowerCase();this.i={height:["scrollHeight","offsetHeight","padding-top","padding-bottom","border-top-width","border-bottom-width"],width:["scrollWidth","offsetWidth","padding-left","padding-right","border-left-width","border-right-width"]}[this.dis];this.start=b.start||function(){};this.end=b.end||function(){};this.run()}SliderJi.prototype={$:function(b){return typeof(b)=="string"?document.getElementById(b):b},on:function(f,d,e){if(!(f=this.$(f))){return false}if(f.addEventListener){f.addEventListener(d,e,false);return true}else{if(f.attachEvent){f["e"+d+e]=e;f[d+e]=function(){f["e"+d+e](window.event)};f.attachEvent("on"+d,f[d+e]);return true}}return false},cssValue:function(e,g){var f;function h(a){return a.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})}if(!+"\v1"){if(g.indexOf("-")!=-1){g=h(g)}f=e.currentStyle[g]}else{f=document.defaultView.getComputedStyle(e,null).getPropertyValue(g)}return f},B:function(e,d){var f=Array.prototype.slice.call(arguments).slice(2);return function(){return d.apply(e,f)}},slider:function(k){var n,c=Math.max(this.handleBx[this.i[0]],this.handleBx[this.i[1]])-n,l=this.interval,d=0,m;this.sorz=this.handleBx[this.i[1]]==this.handleBx[this.i[0]];n=this.sorz?this.handleBx[this.i[0]]:this.initial;c=this.sorz?this.initial-n:Math.max(this.handleBx[this.i[0]],this.handleBx[this.i[1]])-n;if(k.timer){clearTimeout(k.timer)}this.start();m=parseInt(this.cssValue(this.handleBx,this.i[2]))+parseInt(this.cssValue(this.handleBx,this.i[3]))+parseInt(this.cssValue(this.handleBx,this.i[4]))+parseInt(this.cssValue(this.handleBx,this.i[5]));function b(){this.handleBx.style[this.dis]=Math.ceil(this.Tween(d,n,c,l))-m+"px";if(d<l){d++;k.timer=setTimeout(this.B(this,b),10)}else{this.end()}}b.call(this)},run:function(){this.on(this.handle,this.evt,this.B(this,this.slider,this.handle))}};function ScreenScroll(b){this.id=document.getElementById(b.id);this.t=b.top;this.pos=b.pos;this.posValue=b.posValue;this.fixed=b.fix||0;this.n=b.n||1;this.d=60;this.cTop=0;this.t=this.t=="bottom"?(document.documentElement.clientHeight-this.id.offsetHeight-68):parseInt(this.t);this.id.style.top=this.t+"px";this.id.style.position="absolute";this.id.style[this.pos.toLowerCase()]=parseInt(this.posValue)+"px";this.fixed?this.fix():(this.n==1?this.roll2():this.roll())}ScreenScroll.prototype={sTop:function(b){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)},Tween:function(h,b,c,d){return c*((h=h/d-1)*h*h+1)+b},on:function(e,f,d){if(e.addEventListener){e.addEventListener(f,d,true)}else{if(e.attachEvent){e["e"+f+d]=d;e[f+d]=function(){e["e"+f+d](window.event)};e.attachEvent("on"+f,e[f+d])}else{return false}}},fix:function(){if(document.all&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==6)){this.id.style.position="absolute";this.id.style.cssText+=";top:expression(documentElement.scrollTop+"+this.t+");"+this.pos+":+"+this.posValue+")";document.body.style.cssText+=";background:url(about:blank) fixed"}else{this.id.style.position="fixed"}return this},roll:function(){var f=this,e=0,b=parseInt(f.id.style.top)||0;this.time=setInterval(function(){if(parseInt(f.id.style.top)==(f.sTop()+f.t)){return}var a=f.sTop()+f.t-b;f.id.style.top=Math.floor(f.Tween(e,b,a,f.d))+"px";if(e<f.d){e++}else{e=0,b=parseInt(f.id.style.top)}},10);return this},roll2:function(){var b=this;this.time=setInterval(function(){if(b.cTop==a){return}var a=b.sTop()+b.t;b.cTop=b.cTop+Math.ceil((a-b.cTop)*0.08);b.id.style.top=b.cTop+"px"},10);return this},roll3:function(){var b=this;this.time=setInterval(function(){if(parseInt(b.id.style.top)==a){return}var a=b.sTop()+b.t;b.id.style.top=parseInt(b.id.style.top)+Math.ceil((a-parseInt(b.id.style.top))*0.08)+"px"},10);return this}};PPS.domReady(function(){var r=function(){if(!PPS.$("square-nav-list")){return false}new Dropsub({handle:PPS.getECN(PPS.$("square-nav-list"),"square-sub-drop","li"),submore:PPS.getECN(PPS.$("square-nav-list"),"square-sub-nav","ul"),className:"select"})}(),p=function(){if(!PPS.$("skin-set-nav")){return false}var c=PPS.$("skin-set-nav").getElementsByTagName("li"),d=PPS.getECN(PPS.$("skin-set-bd"),"skin-bx","div"),a=PPS.$("skin-diy-cat").getElementsByTagName("a"),b=[];b.newest=0;b.jingdian=1;b.shishang=2;b.xiaoyuan=3;b.jieri=4;b.diy=5;new Rotation({nTag:c,mTag:d,cur:"select",index:b[PPS.$("skin-set-nav").cat]||b.newest});new Rotation({nTag:a,mTag:[PPS.$("skin-diy-bj"),PPS.$("skin-diy-color")],cur:"select"})}(),q=function(){if(!PPS.$("privacy-set-cat")){return false}var a=PPS.$("privacy-set-cat").getElementsByTagName("a");new Rotation({nTag:a,mTag:[PPS.$("setting-privacy"),PPS.$("setting-blacklist")],cur:"cur"})}(),n=function(){if(!PPS.$("show-info-tab")){return false}var b=PPS.$("show-info-tab").getElementsByTagName("li"),c=PPS.$("show-info-bd").getElementsByTagName("div"),e=[];for(var d=0,a=c.length;d<a;d++){if(c[d].parentNode==PPS.$("show-info-bd")){e.push(c[d])}}new Rotation({nTag:b,mTag:e,cur:"select"})}(),o=function(){var f=new Date().getTime();var b=PPS.getECN(document,"k-bx","div");if(b.length==0){return false}for(var c=0,i=b.length;c<i;c++){var g=PPS.getECN(b[c],"k-tab","h2")[0],a=PPS.getECN(g,"k-tab-item","*"),e=PPS.getECN(b[c],"k-bd","div")[0],v=e.getElementsByTagName("div"),u=[];if(g.length==0||e.length==0||e.length==0||v.length==0){continue}for(var d=0,h=v.length;d<h;d++){if(v[d].parentNode==e){u.push(v[d])}}if(u.length==a.length&&a.length!=0){new Rotation({nTag:a,mTag:u,cur:"select",start:function(){if(this.aMtag[this.de].lazy){return}var s=this.aMtag[this.de].getElementsByTagName("textarea")[0];if(!s||s.className.indexOf("textarea-lazy")==-1){return}this.aMtag[this.de].innerHTML=s.value}})}}}(),m=function(){if(!PPS.$("all-top-drop")){return false}new Dropsub({handle:[PPS.$("all-top-drop")],submore:[PPS.$("all-top-drop-nav")]})}(),j=function(){if(!PPS.$("y-square-drop")){return false}new Dropsub({handle:[PPS.$("y-square-drop")],submore:[PPS.$("y-square-drop-nav")],className:"y-drop-select"})}(),l=function(){var c,b=PPS.getECN(document,"pagenav-drop-list","ul"),e=[];if((c=PPS.getECN(document,"pagenav-drop","a"))&&c.length==0){return false}for(var d=0,a=b.length;d<a;d++){document.body.appendChild(b[d].cloneNode(true));e.push(b[d].cloneNode(true));b[d].parentNode.removeChild(b[d]);b[d]=null}new Dropsub({handle:c,submore:PPS.getECN(document,"pagenav-drop-list","ul"),className:"select",hoverBack:function(){var g=this.curObiect,f=this.m[g.n];f.style.top=PPS.getObjPos(g).y-f.offsetHeight+1+"px";f.style.left=PPS.getObjPos(g).x+"px"}})}(),k=function(){if(!PPS.$("scroll-publish")){return false}new ScreenScroll({id:"scroll-publish",top:"bottom",pos:"right",posValue:(document.documentElement.clientWidth-800)/2+1,fix:1});var a=new SliderJi({handle:PPS.$("scroll-publish-handle"),handleBx:PPS.$("scroll-publish"),initial:15,start:function(){this.handle.innerHTML=this.sorz?"<b>\u5c55\u5f00</b>":"<b>\u6536\u8d77</b>";this.handle.className=this.sorz?"scroll-publish-handle":"scroll-publish-handle-s"},interval:20,dis:"width"})}();dialog={};dialog.position=function(){}});