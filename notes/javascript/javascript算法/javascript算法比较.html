<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<base href="http://louxiaojian.googlecode.com/svn/trunk/asset/" />
<script type="text/javascript" src="FCKEditor-syntaxhighlight/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="FCKEditor-syntaxhighlight/syntaxhighlighter/scripts/shBrushJScript.js"></script>
<script type="text/javascript" src="FCKEditor-syntaxhighlight/syntaxhighlighter/scripts/shBrushCss.js"></script>
<script type="text/javascript" src="FCKEditor-syntaxhighlight/syntaxhighlighter/scripts/shBrushXml.js"></script>
<link type="text/css" rel="stylesheet" href="app/notes/case.css"/>
<link type="text/css" rel="stylesheet" href="FCKEditor-syntaxhighlight/syntaxhighlighter/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="FCKEditor-syntaxhighlight/syntaxhighlighter/styles/shThemeDefault.css"/>
<script type="text/javascript">
	SyntaxHighlighter.config.clipboardSwf = 'FCKEditor-syntaxhighlight/syntaxhighlighter/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings = {
			expandSource : '展开代码',
			viewSource : '查看代码',
			copyToClipboard : '复制代码',
			copyToClipboardConfirmation : '代码复制成功',
			print : '打印',
			help : '?',
			alert: '语法高亮\n\n',
			noBrush : '不能找到刷子: ',
			brushNotHtmlScript : 'Brush wasn\'t configured for html-script option: ',
			// this is populated by the build script
			aboutDialog : '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>About SyntaxHighlighter</title></head><body style="font-family:Geneva,Arial,Helvetica,sans-serif;background-color:#fff;color:#000;font-size:1em;text-align:center;"><div style="text-align:center;margin-top:3em;"><div style="font-size:xx-large;">SyntaxHighlighter</div><div style="font-size:.75em;margin-bottom:4em;"><div>version 2.1.364(October 15 2009)</div><div><a href="http://alexgorbatchev.com" target="_blank" style="color:#0099FF;text-decoration:none;">http://alexgorbatchev.com</a></div></div><div>JavaScript code syntax highlighter.</div><div>Copyright 2004-2009 Alex Gorbatchev.</div></div></body></html>'
		}
	SyntaxHighlighter.all();
</script>
<title>javascript算法比较</title>
</head>

<body onload="generate()">
<div id="page">
    <h1>javascript算法比较</h1>
    <div id="content">
      <pre title="code" class="brush: jscript;">
          var txtMax=document.getElementById('txtMax'),
		  txtCount=document.getElementById('txtCount'),
		  txtInput=document.getElementById('txtInput'),
		  txtOutput=document.getElementById('txtOutput'),
		  lblTime=document.getElementById('lblTime');
              
          Array.prototype.swap = function(i, j) 
          { 
              var temp = this[i]; 
              this[i] = this[j]; 
              this[j] = temp; 
          } 
          /**
           *冒泡排序
           */
          Array.prototype.bubbleSort = function() 
          { 
              for (var i = this.length - 1; i > 0; --i) 
              { 
                  for (var j = 0; j < i; ++j) 
                  { 
                      if (this[j] > this[j + 1]) this.swap(j, j + 1); 
                  } 
              } 
          } 
      
          /**
           *选择排序
           */
          Array.prototype.selectionSort = function() 
          { 
              for (var i = 0; i < this.length; ++i) 
              { 
                  var index = i; 
                  for (var j = i + 1; j < this.length; ++j) 
                  { 
                      if (this[j] < this[index]) index = j; 
                  } 
                  this.swap(i, index); 
              } 
          } 
      
          /**
           *插入排序
           */
          Array.prototype.insertionSort = function() 
          { 
              for (var i = 1; i < this.length; ++i) 
              { 
                  var j = i, value = this[i]; 
                  while (j > 0 && this[j - 1] > value) 
                  { 
                      this[j] = this[j - 1]; 
                      --j; 
                  } 
                  this[j] = value; 
              } 
          } 
      
          /**
           *谢尔排序
           */
          Array.prototype.shellSort = function() 
          { 
              for (var step = this.length >> 1; step > 0; step >>= 1) 
              { 
                  for (var i = 0; i < step; ++i) 
                  { 
                      for (var j = i + step; j < this.length; j += step) 
                      { 
                          var k = j, value = this[j]; 
                          while (k >= step && this[k - step] > value) 
                          { 
                              this[k] = this[k - step]; 
                              k -= step; 
                          } 
                          this[k] = value; 
                      } 
                  } 
              } 
          } 
      
          /**
           *快速排序(递归)
           */
          Array.prototype.quickSort = function(s, e) 
          { 
              if (s == null) s = 0; 
              if (e == null) e = this.length - 1; 
              if (s >= e) return; 
              this.swap((s + e) >> 1, e); 
              var index = s - 1; 
              for (var i = s; i <= e; ++i) 
              { 
                  if (this[i] <= this[e]) this.swap(i, ++index); 
              } 
              this.quickSort(s, index - 1); 
              this.quickSort(index + 1, e); 
          } 
      
          /**
           *快速排序(堆栈)
           */
          Array.prototype.stackQuickSort = function() 
          { 
              var stack = [0, this.length - 1]; 
              while (stack.length > 0) 
              { 
                  var e = stack.pop(), s = stack.pop(); 
                  if (s >= e) continue; 
                  this.swap((s + e) >> 1, e); 
                  var index = s - 1; 
                  for (var i = s; i <= e; ++i) 
                  { 
                      if (this[i] <= this[e]) this.swap(i, ++index); 
                  } 
                  stack.push(s, index - 1, index + 1, e); 
              } 
          } 
      
          /**
           *归并排序
           */
          Array.prototype.mergeSort = function(s, e, b) 
          { 
              if (s == null) s = 0; 
              if (e == null) e = this.length - 1; 
              if (b == null) b = new Array(this.length); 
              if (s >= e) return; 
              var m = (s + e) >> 1; 
              this.mergeSort(s, m, b); 
              this.mergeSort(m + 1, e, b); 
              for (var i = s, j = s, k = m + 1; i <= e; ++i) 
              { 
                  b[i] = this[(k > e || j <= m && this[j] < this[k]) ? j++ : k++]; 
              } 
              for (var i = s; i <= e; ++i) this[i] = b[i]; 
          } 
      
          /**
           *堆排序
           */
          Array.prototype.heapSort = function() 
          { 
              for (var i = 1; i < this.length; ++i) 
              { 
                  for (var j = i, k = (j - 1) >> 1; k >= 0; j = k, k = (k - 1) >> 1) 
                  { 
                      if (this[k] >= this[j]) break; 
                      this.swap(j, k); 
                  } 
              } 
              for (var i = this.length - 1; i > 0; --i) 
              { 
                  this.swap(0, i); 
                  for (var j = 0, k = (j + 1) << 1; k <= i; j = k, k = (k + 1) << 1) 
                  { 
                      if (k == i || this[k] < this[k - 1]) --k; 
                      if (this[k] <= this[j]) break; 
                      this.swap(j, k); 
                  } 
              } 
          } 
      
      
          function generate() 
          {   
              var max = parseInt(txtMax.value), count = parseInt(txtCount.value); 
              if (isNaN(max) || isNaN(count)) 
              { 
                  alert("个数和最大值必须是一个整数"); 
                  return; 
              } 
              var array = []; 
              for (var i = 0; i < count; ++i) array.push(Math.round(Math.random() * max)); 
              txtInput.value = array.join("\n"); 
              txtOutput.value = ""; 
          } 
      
          function demo(type) 
          {   
              var array = txtInput.value == "" ? [] : txtInput.value.replace().split("\n"); 
              for (var i = 0; i < array.length; ++i) array[i] = parseInt(array[i]); 
              var t1 = new Date().getTime(); 
              eval("array." + type + "Sort()"); 
              var t2 = new Date().getTime(); 
              lblTime.innerHTML = t2.valueOf() - t1.valueOf(); 
              txtOutput.value = array.join("\n"); 
          }
      </pre>
      <table style="width:100%;height:100%;font-size:12px;font-family:宋体"> 
      <tr> 
          <td align=right> 
              <textarea id="txtInput" readonly style="width:100px;height:100%"></textarea> 
          </td> 
          <td width=150 align=center> 
              随机数个数<input id="txtCount" value="500" style="width:50px"><br><br> 
              最大随机数<input id="txtMax" value="1000" style="width:50px"><br><br> 
              <button onclick="generate()">重新生成</button><br><br><br> 
              耗时(毫秒)：<label id="lblTime"></label><br><br><br><br> 
              <button onclick='demo("bubble")'>冒泡排序</button><br><br> 
              <button onclick='demo("selection")'>选择排序</button><br><br> 
              <button onclick='demo("insertion")'>插入排序</button><br><br> 
              <button onclick='demo("shell")'>谢尔排序</button><br><br> 
              <button onclick='demo("quick")'>快速排序(递归)</button><br><br> 
              <button onclick='demo("stackQuick")'>快速排序(堆栈)</button><br><br/>
              <button onclick='demo("merge")'>归并排序</button><br><br> 
              <button onclick='demo("heap")'>堆排序</button><br><br> 
          </td> 
          <td align=left> 
              <textarea id=txtOutput readonly style="width:100px;height:100%"></textarea> 
          </td> 
      </tr> 
      </table> 
      
      <script> 
          var txtMax=document.getElementById('txtMax'),
		  txtCount=document.getElementById('txtCount'),
		  txtInput=document.getElementById('txtInput'),
		  txtOutput=document.getElementById('txtOutput'),
		  lblTime=document.getElementById('lblTime');
              
          Array.prototype.swap = function(i, j) 
          { 
              var temp = this[i]; 
              this[i] = this[j]; 
              this[j] = temp; 
          } 
          /**
           *冒泡排序
           */
          Array.prototype.bubbleSort = function() 
          { 
              for (var i = this.length - 1; i > 0; --i) 
              { 
                  for (var j = 0; j < i; ++j) 
                  { 
                      if (this[j] > this[j + 1]) this.swap(j, j + 1); 
                  } 
              } 
          } 
      
          /**
           *选择排序
           */
          Array.prototype.selectionSort = function() 
          { 
              for (var i = 0; i < this.length; ++i) 
              { 
                  var index = i; 
                  for (var j = i + 1; j < this.length; ++j) 
                  { 
                      if (this[j] < this[index]) index = j; 
                  } 
                  this.swap(i, index); 
              } 
          } 
      
          /**
           *插入排序
           */
          Array.prototype.insertionSort = function() 
          { 
              for (var i = 1; i < this.length; ++i) 
              { 
                  var j = i, value = this[i]; 
                  while (j > 0 && this[j - 1] > value) 
                  { 
                      this[j] = this[j - 1]; 
                      --j; 
                  } 
                  this[j] = value; 
              } 
          } 
      
          /**
           *谢尔排序
           */
          Array.prototype.shellSort = function() 
          { 
              for (var step = this.length >> 1; step > 0; step >>= 1) 
              { 
                  for (var i = 0; i < step; ++i) 
                  { 
                      for (var j = i + step; j < this.length; j += step) 
                      { 
                          var k = j, value = this[j]; 
                          while (k >= step && this[k - step] > value) 
                          { 
                              this[k] = this[k - step]; 
                              k -= step; 
                          } 
                          this[k] = value; 
                      } 
                  } 
              } 
          } 
      
          /**
           *快速排序(递归)
           */
          Array.prototype.quickSort = function(s, e) 
          { 
              if (s == null) s = 0; 
              if (e == null) e = this.length - 1; 
              if (s >= e) return; 
              this.swap((s + e) >> 1, e); 
              var index = s - 1; 
              for (var i = s; i <= e; ++i) 
              { 
                  if (this[i] <= this[e]) this.swap(i, ++index); 
              } 
              this.quickSort(s, index - 1); 
              this.quickSort(index + 1, e); 
          } 
      
          /**
           *快速排序(堆栈)
           */
          Array.prototype.stackQuickSort = function() 
          { 
              var stack = [0, this.length - 1]; 
              while (stack.length > 0) 
              { 
                  var e = stack.pop(), s = stack.pop(); 
                  if (s >= e) continue; 
                  this.swap((s + e) >> 1, e); 
                  var index = s - 1; 
                  for (var i = s; i <= e; ++i) 
                  { 
                      if (this[i] <= this[e]) this.swap(i, ++index); 
                  } 
                  stack.push(s, index - 1, index + 1, e); 
              } 
          } 
      
          /**
           *归并排序
           */
          Array.prototype.mergeSort = function(s, e, b) 
          { 
              if (s == null) s = 0; 
              if (e == null) e = this.length - 1; 
              if (b == null) b = new Array(this.length); 
              if (s >= e) return; 
              var m = (s + e) >> 1; 
              this.mergeSort(s, m, b); 
              this.mergeSort(m + 1, e, b); 
              for (var i = s, j = s, k = m + 1; i <= e; ++i) 
              { 
                  b[i] = this[(k > e || j <= m && this[j] < this[k]) ? j++ : k++]; 
              } 
              for (var i = s; i <= e; ++i) this[i] = b[i]; 
          } 
      
          /**
           *堆排序
           */
          Array.prototype.heapSort = function() 
          { 
              for (var i = 1; i < this.length; ++i) 
              { 
                  for (var j = i, k = (j - 1) >> 1; k >= 0; j = k, k = (k - 1) >> 1) 
                  { 
                      if (this[k] >= this[j]) break; 
                      this.swap(j, k); 
                  } 
              } 
              for (var i = this.length - 1; i > 0; --i) 
              { 
                  this.swap(0, i); 
                  for (var j = 0, k = (j + 1) << 1; k <= i; j = k, k = (k + 1) << 1) 
                  { 
                      if (k == i || this[k] < this[k - 1]) --k; 
                      if (this[k] <= this[j]) break; 
                      this.swap(j, k); 
                  } 
              } 
          } 
      
      
          function generate() 
          {   
              var max = parseInt(txtMax.value), count = parseInt(txtCount.value); 
              if (isNaN(max) || isNaN(count)) 
              { 
                  alert("个数和最大值必须是一个整数"); 
                  return; 
              } 
              var array = []; 
              for (var i = 0; i < count; ++i) array.push(Math.round(Math.random() * max)); 
              txtInput.value = array.join("\n"); 
              txtOutput.value = ""; 
          } 
      
          function demo(type) 
          {   
              var array = txtInput.value == "" ? [] : txtInput.value.replace().split("\n"); 
              for (var i = 0; i < array.length; ++i) array[i] = parseInt(array[i]); 
              var t1 = new Date().getTime(); 
              eval("array." + type + "Sort()"); 
              var t2 = new Date().getTime(); 
              lblTime.innerHTML = t2.valueOf() - t1.valueOf(); 
              txtOutput.value = array.join("\n"); 
          } 
      </script> 
 

    </div>
</div>

</body>
</html>
