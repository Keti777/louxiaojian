function $(a){return"string"==typeof a?document.getElementById(a):a}domReady=!+"\v1"?function(a){(function(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}a()})()}:function(a){document.addEventListener("DOMContentLoaded",a,false)};function SliderLayer(a){this.SetOptions(a);if(!this.options.handle||!this.options.handleBx||this.options.handle.length!=this.options.handleBx.length){return false}this.handle=this.options.handle;this.handleBx=this.options.handleBx;this.interval=this.options.interval;this.Tween=this.options.Tween;this.evt=this.options.evt;this.start=this.B(this,this.options.start);this.end=this.B(this,this.options.end);this.rKey=true;this.run()}SliderLayer.prototype={$:function(a){return typeof(a)=="string"?document.getElementById(a):a},on:function(b,a,c){if(!(b=this.$(b))){return false}if(b.addEventListener){b.addEventListener(a,c,false);return true}else{if(b.attachEvent){b["e"+a+c]=c;b[a+c]=function(){b["e"+a+c](window.event)};b.attachEvent("on"+a,b[a+c]);return true}}return false},B:function(c,a){var b=Array.prototype.slice.call(arguments).slice(2);return function(){return a.apply(c,b)}},E:function(a,c){for(var b in c){a[b]=c[b]}},uncamelize:function(b,a){a=a||"-";return b.replace(/([a-z])([A-Z])/g,function(c,e,d){return e+a+d.toLowerCase()})},camelize:function(a){return a.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})},setStyle:function(a,b){if(!(a=this.$(a))){return false}for(property in b){if(!b.hasOwnProperty(property)){continue}if(a.style.setProperty){a.style.setProperty(this.uncamelize(property,"-"),b[property],null)}else{a.style[this.camelize(property)]=b[property]}}return true},getEle:function(d){var c=this.$(d),a=c.offsetWidth,b=c.offsetHeight;if(a==0||b==0){this.setStyle(c,{position:"absolute",display:"block",visibility:"hidden"});a=c.offsetWidth;b=c.offsetHeight;this.setStyle(c,{position:"static",display:"none",visibility:"visible"})}return{w:a,h:b}},SetOptions:function(a){this.options={handle:function(){},handleBx:function(){},evt:"click",eKey:0,interval:40,showDelay:10,hideDelay:300,dis:["height"],Tween:function(f,e,h,g){return h*(f/=g)*f+e},start:function(){},end:function(){}};this.E(this.options,a||{})},slider:function(g,j){var i=this.index=g.nub,j=this.handleBx[i],a=0,h=this.getEle(j).h,f=this.interval,e=0;if(!j.style.overflow){j.style.overflow="hidden"}if(this.timer){clearTimeout(this.timer)}this.sMove=function(){this.setStyle(j,{height:(g.mKey?(Math.ceil(this.Tween(e,a,h,f))+"px"):(h-Math.ceil(this.Tween(e,a,h,f))+"px"))});if(e<f){e++;this.timer=setTimeout(this.B(this,this.sMove),10)}else{if(!g.mKey){this.setStyle(j,{display:"none"})}this.setStyle(j,{height:"auto"});this.rKey=true;e=0;this.end()}};this.sMove()},act:function(a){if(!this.rKey){return false}var c=this.index=a.nub,b=this.handleBx[c];if(this.sTime){clearTimeout(this.sTime)}this.sTime=setTimeout(this.B(this,function(){this.rKey=false;a.mKey=(b.style.display=="none"||b.offsetHeight==0)?1:0;if(b.style.display&&b.style.display=="none"){b.style.display="block"}this.start();this.slider(a,b)}),this.interval)},run:function(){if(this.handle.length!=this.handleBx.length){return false}for(var b=0,a=this.handle.length;b<a;b++){this.handle[b].nub=b;this.on(this.handle[b],this.evt,this.B(this,this.act,this.handle[b]))}}};function getCN(g,a,d){if(g.getElementsByClassName){return g.getElementsByClassName(a)}else{var f=[],c=new RegExp("(^|\\s)"+a+"(\\s|$)"),h=(g||document).getElementsByTagName(d||"*");for(var b=0;b<h.length;b++){if(c.test(h[b].className)){f.push(h[b])}}return f}}domReady(function(){var a=function(){var b=getCN(document,"SliderHandle","div"),c=getCN(document,"SliderBx","div");new SliderLayer({handle:b,handleBx:c,end:function(){},start:function(){this.handle[this.index].innerHTML=this.handle[this.index].mKey?"\u6536\u7f29":"\u5c55\u5f00"},evt:"click",Tween:function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f+e}return -h/2*((--f)*(f-2)-1)+e}})}()});
