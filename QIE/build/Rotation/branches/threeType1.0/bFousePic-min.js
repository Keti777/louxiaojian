function bFousePic(a,c,b,e,d){if(!document.getElementById(a)||!document.getElementById(b)){return false}this.aNavTag=document.getElementById(a).getElementsByTagName(c);this.oMain=document.getElementById(b);this.aMainTag=this.oMain.getElementsByTagName(e);this.eventType=["onclick","onmouseover"];this.sets={evt:0,indexNub:0,auto:[0,2000],curClass:"cur",intTabTime:50,interval:5,textDesTag:"li"};this.aTextDes=document.getElementById(d).getElementsByTagName(this.sets.textDesTag);this.aNtag=[];this.aMtag=[];this.sz=0}bFousePic.prototype={Bind:function(c,a){var b=Array.prototype.slice.call(arguments).slice(2);return function(){return a.apply(c,b)}},tabAction:function(a){if(a!=this.lastLi){this.lastLi.className=this.lastLi.className.replace(this.sets.curClass,"");if(a.className.indexOf(this.sets.curClass)==-1){a.className+=" "+this.sets.curClass}this.lastLi=a;this.lastTextDes.style.display="none";this.aTextDes[a.cNub].style.display="block";this.lastTextDes=this.aTextDes[a.cNub];this.lastDiv.style.zIndex=100;this.curDiv=this.aMtag[a.cNub];this.curDiv.style.display="block";this.alphaIni(this.curDiv);this.alphaFun(this.curDiv,this.lastDiv,1);this.lastDiv=this.curDiv}},autoplay:function(a){if(a){this.sets.indexNub=(this.sets.indexNub<this.aNtag.length-1)?this.sets.indexNub+1:0}else{this.sets.indexNub=(this.sets.indexNub!=0)?this.sets.indexNub-1:this.aNtag.length-1}this.tabAction(this.aNtag[this.sets.indexNub])},autoFun:function(){if(this.intAuto){clearInterval(this.intAuto)}this.intAuto=setInterval(this.Bind(this,this.autoplay,1),this.sets.auto[1]);this.key=0},clearAuto:function(){clearInterval(this.intAuto);this.key=1},autoKey:function(){var b=this;this.autoFun();for(var a=0;a<this.aNtag.length;a++){if(this.intAuto){if(this.sets.evt==0){this.aNtag[a].onmouseover=function(){if(this.className.indexOf(b.sets.curClass)!=-1&&b.key==0){b.clearAuto()}}}this.aNtag[a].onmouseout=this.Bind(this,function(){if(this.key==1){this.autoFun()}if(this.intTab){clearTimeout(this.intTab)}});this.aMtag[a].onmouseover=this.Bind(this,function(){this.clearAuto()});this.aMtag[a].onmouseout=this.Bind(this,function(){this.autoFun()})}}},alpha:function(c,b,a){this.sz=this.sz+2*a;c.style.filter="alpha(opacity="+this.sz+")";c.style.MozOpacity=this.sz/100;c.style.opacity=this.sz/100;this.szo=100-this.sz;b.style.filter="alpha(opacity="+this.szo+")";b.style.MozOpacity=this.szo/100;b.style.opacity=this.szo/100;if(this.sz==100){if(this.alphaTime){clearInterval(this.alphaTime)}b.style.display="none";b.style.zIndex=0;c.style.zIndex=100;this.sz=0;return false}},alphaIni:function(a){a.style.filter="alpha(opacity=0)";a.style.MozOpacity=0;a.style.opacity=0},alphaFun:function(c,b,a){if(this.alphaTime){clearInterval(this.alphaTime)}this.alphaTime=setInterval(this.Bind(this,this.alpha,c,b,a),5)},run:function(){var d=this;for(var b=0;b<this.aMainTag.length;b++){if(this.aMainTag[b].parentNode==this.oMain){this.aMtag.push(this.aMainTag[b])}}for(var a=0;a<this.aNavTag.length;a++){if(!this.aNavTag[a].getAttribute("lang")){this.aNtag.push(this.aNavTag[a])}}if(this.aMtag.length!=this.aNtag.length){alert("\u9009\u9879\u5361\u5bfc\u822a\u548c\u4e3b\u4f53\u7684\u6570\u91cf\u4e0d\u4e00\u6837")}if(this.aNtag[this.sets.indexNub].className.indexOf(this.sets.curClass)==-1){this.aNtag[this.sets.indexNub].className+=" "+this.sets.curClass}this.lastLi=this.aNtag[this.sets.indexNub];this.lastTextDes=this.aTextDes[this.sets.indexNub];this.lastTextDes.style.display="block";this.lastDiv=this.aMtag[this.sets.indexNub];for(var c=0;c<this.aNtag.length;c++){if(c!=this.sets.indexNub){this.aMtag[c].style.display="none"}this.aNtag[c].cNub=c;if(this.aNtag[c].getElementsByTagName("a")[0]){this.aNtag[c].getElementsByTagName("a")[0].onfocus=function(){this.blur()};if(this.sets.evt==0){this.aNtag[c].getElementsByTagName("a")[0].onclick=function(){return false}}}if(this.aNtag[c].tagName.toLocaleLowerCase()=="a"){this.aNtag[c].onfocus=function(){this.blur()}}this.aNtag[c][this.eventType[this.sets.evt]]=function(){if(d.sz!=0){return false}var e=this;if(d.intTab){clearTimeout(d.intTab)}d.intTab=setTimeout(function(){if(d.intAuto){d.clearAuto()}d.tabAction(e);d.sets.indexNub=e.cNub},d.sets.intTabTime);return false};if(this.sets.auto[0]!=1){this.aNtag[c].onmouseout=this.Bind(this,function(){if(this.intTab){clearTimeout(this.intTab)}})}}if(this.sets.auto[0]==1){this.autoKey()}}};
