function aFousePic(a,e,d,g,f,c,b){if(!document.getElementById(a)||!document.getElementById(d)){return false}this.aNavTag=document.getElementById(a).getElementsByTagName(e);this.oMain=document.getElementById(d);this.aMainTag=this.oMain.getElementsByTagName(g);this.final_x=c;this.final_y=b;this.eventType=["onclick","onmouseover"];this.sets={evt:0,indexNub:0,auto:[0,2000],curClass:"cur",intTabTime:50,interval:5,textDesTag:"li"};this.aTextDes=document.getElementById(f).getElementsByTagName(this.sets.textDesTag);this.aNtag=[];this.aMtag=[]}aFousePic.prototype={Bind:function(c,a){var b=Array.prototype.slice.call(arguments).slice(2);return function(){return a.apply(c,b)}},tabAction:function(a){if(a!=this.lastLi){this.lastLi.className=this.lastLi.className.replace(this.sets.curClass,"");if(a.className.indexOf(this.sets.curClass)==-1){a.className+=" "+this.sets.curClass}this.lastLi=a;this.lastTextDes.style.display="none";this.aTextDes[a.cNub].style.display="block";this.lastTextDes=this.aTextDes[a.cNub];this.moveElementFun(a.cNub*this.final_x,a.cNub*this.final_y,this.sets.interval)}},autoplay:function(a){if(a){this.sets.indexNub=(this.sets.indexNub<this.aNtag.length-1)?this.sets.indexNub+1:0}else{this.sets.indexNub=(this.sets.indexNub!=0)?this.sets.indexNub-1:this.aNtag.length-1}this.tabAction(this.aNtag[this.sets.indexNub])},autoFun:function(){if(this.intAuto){clearInterval(this.intAuto)}this.intAuto=setInterval(this.Bind(this,this.autoplay,1),this.sets.auto[1]);this.key=0},clearAuto:function(){clearInterval(this.intAuto);this.key=1},autoKey:function(){var b=this;this.autoFun();for(var a=0;a<this.aNtag.length;a++){if(this.intAuto){if(this.sets.evt==0){this.aNtag[a].onmouseover=function(){if(this.className.indexOf(b.sets.curClass)!=-1&&b.key==0){b.clearAuto()}}}this.aNtag[a].onmouseout=this.Bind(this,function(){if(this.key==1){this.autoFun()}if(this.intTab){clearTimeout(this.intTab)}});this.aMtag[a].onmouseover=this.Bind(this,function(){this.clearAuto()});this.aMtag[a].onmouseout=this.Bind(this,function(){this.autoFun()})}}},moveElement:function(d,c,b){if(!this.oMain.style.left){this.oMain.style.left="0px"}if(!this.oMain.style.top){this.oMain.style.top="0px"}var a=parseInt(this.oMain.style.left);var f=parseInt(this.oMain.style.top);if(a==d&&f==c){if(this.moveTime){clearInterval(this.moveTime)}return true}if(a<d){var e=Math.ceil((d-a)/10);a=a+e}if(a>d){var e=Math.ceil((a-d)/10);a=a-e}if(f<c){var e=Math.ceil((c-f)/10);f=f+e}if(f>c){var e=Math.ceil((f-c)/10);f=f-e}this.oMain.style.left=a+"px";this.oMain.style.top=f+"px"},moveElementFun:function(c,b,a){if(this.moveTime){clearInterval(this.moveTime)}this.moveTime=setInterval(this.Bind(this,function(){this.moveElement(c,b,a)}),5)},run:function(){var d=this;for(var b=0;b<this.aMainTag.length;b++){if(this.aMainTag[b].parentNode==this.oMain){this.aMtag.push(this.aMainTag[b])}}for(var a=0;a<this.aNavTag.length;a++){if(!this.aNavTag[a].getAttribute("lang")){this.aNtag.push(this.aNavTag[a])}}if(this.aMtag.length!=this.aNtag.length){alert("\u9009\u9879\u5361\u5bfc\u822a\u548c\u4e3b\u4f53\u7684\u6570\u91cf\u4e0d\u4e00\u6837")}if(this.aNtag[this.sets.indexNub].className.indexOf(this.sets.curClass)==-1){this.aNtag[this.sets.indexNub].className+=" "+this.sets.curClass}this.lastLi=this.aNtag[this.sets.indexNub];this.lastTextDes=this.aTextDes[this.sets.indexNub];this.lastTextDes.style.display="block";this.oMain.style.top=this.sets.indexNub*this.final_y+"px";this.oMain.style.left=this.sets.indexNub*this.final_x+"px";for(var c=0;c<this.aNtag.length;c++){this.aNtag[c].cNub=c;if(this.aNtag[c].getElementsByTagName("a")[0]){this.aNtag[c].getElementsByTagName("a")[0].onfocus=function(){this.blur()};if(this.sets.evt==0){this.aNtag[c].getElementsByTagName("a")[0].onclick=function(){return false}}}if(this.aNtag[c].tagName.toLocaleLowerCase()=="a"){this.aNtag[c].onfocus=function(){this.blur()}}this.aNtag[c][this.eventType[this.sets.evt]]=function(){var e=this;if(d.intTab){clearTimeout(d.intTab)}d.intTab=setTimeout(function(){if(d.intAuto){d.clearAuto()}d.tabAction(e);d.sets.indexNub=e.cNub},d.sets.intTabTime);return false};if(this.sets.auto[0]!=1){this.aNtag[c].onmouseout=this.Bind(this,function(){if(this.intTab){clearTimeout(this.intTab)}})}}if(this.sets.auto[0]==1){this.autoKey()}}};
